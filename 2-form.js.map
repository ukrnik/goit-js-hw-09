{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const localStorageKEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nconst formData = {\n    email: '',\n    message: '',\n};\n\n// Мы загрузили данные из localStorage\n\nconst savedMessage = localStorage.getItem(localStorageKEY);\nif (savedMessage) {\n    try {\n        const parsedMessage = JSON.parse(savedMessage);\n        form.elements.email.value = parsedMessage.email || '';\n        form.elements.message.value = parsedMessage.message || '';\n        formData.email = parsedMessage.email || '';\n        formData.message = parsedMessage.message || '';\n    } catch (error) {\n        console.warn('Ошибка при чтении из localStorage', error);\n    }\n}\n\n// Мы вводим данные в форму\n\nform.addEventListener('input', formEvent);\nfunction formEvent(event) {\n    // const formData = {\n    //     email: form.elements.email.value,\n    //     message: form.elements.message.value,\n    // };\n    const name = event.target.name;\n    const value = event.target.value;\n    formData[name] = value.trim();\n    console.log(formData);\n    localStorage.setItem(localStorageKEY, JSON.stringify(formData));\n}\n\n// Мы отправляем форму\n\nform.addEventListener('submit', formSubmit);\nfunction formSubmit(event) {\n    event.preventDefault();\n    console.log('Отправка формы');\n    if (formData.email === '' || formData.message === '') {\n        alert('Fill please all fields');\n        return;\n    }\n    console.log(formData);\n\n    form.reset();\n    localStorage.removeItem(localStorageKEY);\n    formData.email = '';\n    formData.message = '';\n}\n"],"names":["localStorageKEY","form","formData","savedMessage","parsedMessage","error","formEvent","event","name","value","formSubmit"],"mappings":"oDAAA,MAAMA,EAAkB,sBAClBC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAIMC,EAAe,aAAa,QAAQH,CAAe,EACzD,GAAIG,EACA,GAAI,CACA,MAAMC,EAAgB,KAAK,MAAMD,CAAY,EAC7CF,EAAK,SAAS,MAAM,MAAQG,EAAc,OAAS,GACnDH,EAAK,SAAS,QAAQ,MAAQG,EAAc,SAAW,GACvDF,EAAS,MAAQE,EAAc,OAAS,GACxCF,EAAS,QAAUE,EAAc,SAAW,EAC/C,OAAQC,EAAO,CACZ,QAAQ,KAAK,oCAAqCA,CAAK,CAC1D,CAKLJ,EAAK,iBAAiB,QAASK,CAAS,EACxC,SAASA,EAAUC,EAAO,CAKtB,MAAMC,EAAOD,EAAM,OAAO,KACpBE,EAAQF,EAAM,OAAO,MAC3BL,EAASM,CAAI,EAAIC,EAAM,KAAI,EAC3B,QAAQ,IAAIP,CAAQ,EACpB,aAAa,QAAQF,EAAiB,KAAK,UAAUE,CAAQ,CAAC,CAClE,CAIAD,EAAK,iBAAiB,SAAUS,CAAU,EAC1C,SAASA,EAAWH,EAAO,CAGvB,GAFAA,EAAM,eAAc,EACpB,QAAQ,IAAI,gBAAgB,EACxBL,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CAClD,MAAM,wBAAwB,EAC9B,MACH,CACD,QAAQ,IAAIA,CAAQ,EAEpBD,EAAK,MAAK,EACV,aAAa,WAAWD,CAAe,EACvCE,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACvB"}